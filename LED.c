#include<reg52.h>
/*将流水灯亮的状态存到数组中，执行的时候直接调用数组数据*/
code unsigned char table[]=
{0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80,0x81,0x82,
0x84,0x88,0x90,0xA0,0xC0,0xC1,0xc2,0xc4,0xc8,0xd0,
0xe0,0xe1,0xe2,0xe4,0xe8,0xf0,0xf1,0xf2,0xf4,0xf8,
0xf9,0xfa,0xfc,0xfd,0xfe,0xff,0xff,0x00,0xff,0x00};
/*延迟函数，当tmp=255时延迟1s*/
void delay(unsigned char tmp)
{
	unsigned char j;
	while(tmp--)
	{
		j=255;
		while(j--);
	}
}

void main()
{
	unsigned char i;
	while(1)
	{
		for(i=0;i<40;i++)
		{
			P2=~table[i];
			delay(250);
		}
	}
}